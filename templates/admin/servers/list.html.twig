{% extends 'base.html.twig' %}

{% block title 'Gestion des serveurs' %}

{% block body %}
	<h2>Gestion des serveurs</h2>

	<table class="table">
		<thead>
			<tr>
				<th scope="col">ID</th>
				<th scope="col">Région</th>
				<th scope="col">Nom</th>
				<th scope="col">Nombre de services</th>
				<th scope="col">Nodes</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>
			{% for server in servers %}
				<tr>
					<th scope="row">{{ server.id }}</th>
					<td>{{ server.region }}</td>
					<td>{{ server.name }}</td>
					<td>{{ server.services.count }}</td>
					<td><a href="{{ path('admin_provision_node_install', {id: server.id}) }}">Ajouter un nodes</a> <a href="{{ path('admin_provision_nodes_list', {id: server.id}) }}">Gérer les nodes</a></td>
					<td>
						<a href="{{ path('admin_server_edit', {id: server.id}) }}">Editer le serveur</a>
						<a href=""></a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<p><a href="{{ path('admin_server_create') }}">Ajouter un serveur</a></p>
{% endblock %}
